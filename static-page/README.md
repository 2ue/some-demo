# 静态发布

我也不知道为什么会做这个小东西，大概是业务需求吧。

## 使用

``` base
## 安装依赖
npm i

## 启动服务器
npm run dev

## 发布
npm run dist
```

```
|-- 根目录
|--|-- public  静态资源
|--|-- views  模板
|--|--|-- layout 母版模板
|--|-- app.js  启动服务
|--|-- dist.js  发布服务
```

## 模板中的参数

目前只有一个 `rootUrl`，主要解决引用资源的问题。

开发的时候，是直接根目录的方式 `/`

发布后，就变成了相对路径 `../../`

## 简单说一下

整个根目录就是一个静态文件，根据相对应的路径访问，返回对应的数据。

开发约定，`public` 文件夹作为静态资源目录，`views` 作为开发时候放页面的文件夹。

## 无奈的吐槽

做了一个切图的活，要求就是写静态页面就好了，交付的时候也是静态页面。

按要图片的要求切好了，交过去。结果他们要 `双击` 的方式打开，没有安装 `Nodejs` ，没法愉快的启动服务。

又要按照他们说的，把引用资源的路径改成了相对路径。

后来，又说按照原型，把各种页面链接起来。

我慌了，左侧导航栏，那么多链接，那么多页面都要改，如果中途再改一下，好酸爽。

没法，我还是想想办法，把通用的部分复用起来。于是就有了它。

最主要的是，用模板引擎渲染页面，在开发的时候，就是一个正常服务器端渲染的开发环境。发布的时候，用模板引擎渲染好页面，直接写入文件。`rootUrl` 参数就是控制路径，根据文件相对于根目录的层级计算。`views` 文件夹里面的文件夹，`layout` 会跳过，其他都会输出。

其实吧，也是双方对开发态度不一样，以前也帮人切图，都是把各个部件切出来，写几个案例。几个复杂的页面切出来就好了。这次这个，完全按照原型的访问方式做出来，各个页面都链接起来。嗯，很是无奈，对方套模板已经懒到了一个新高度。
